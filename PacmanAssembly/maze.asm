Walls:
    db 0x00, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x00
    db 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37
    db 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37
    db 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37
    db 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37
    db 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37
    db 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37
    db 0x00, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x00

Dots:
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x59, 0x59, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x59, 0x59, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

Gates:
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x56, 0x56, 0x56, 0x56, 0x56, 0x56, 0x00
    db 0x56, 0x56, 0x56, 0x56, 0x56, 0x56, 0x56, 0x56
    db 0x56, 0x56, 0x56, 0x56, 0x56, 0x56, 0x56, 0x56
    db 0x00, 0x56, 0x56, 0x56, 0x56, 0x56, 0x56, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

PowerPellet:
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x59, 0x59, 0x59, 0x59, 0x00, 0x00
    db 0x00, 0x59, 0x59, 0x59, 0x59, 0x59, 0x59, 0x00
    db 0x00, 0x59, 0x59, 0x59, 0x59, 0x59, 0x59, 0x00
    db 0x00, 0x59, 0x59, 0x59, 0x59, 0x59, 0x59, 0x00
    db 0x00, 0x59, 0x59, 0x59, 0x59, 0x59, 0x59, 0x00
    db 0x00, 0x00, 0x59, 0x59, 0x59, 0x59, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00


;wall sprite
WallVertical_Sprite:
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00

WallHorizontal_Sprite:
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

;Border Corner sprite
BorderUpRight_Sprite:
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x37, 0x37
    db 0x00, 0x00, 0x00, 0x00, 0x37, 0x37, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x37, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x37, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37
    db 0x00, 0x00, 0x37, 0x00, 0x00, 0x00, 0x37, 0x00

BorderUpLeft_Sprite:
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x37, 0x37, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x37, 0x37, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x37, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x37, 0x00, 0x00, 0x00
    db 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x37, 0x00, 0x00
    
BorderDownRight_Sprite:
    db 0x00, 0x00, 0x37, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37
    db 0x00, 0x00, 0x00, 0x37, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x37, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x37, 0x37, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x37, 0x37
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

BorderDownLeft_Sprite:
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x37, 0x00, 0x00
    db 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x37, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x37, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x37, 0x37, 0x00, 0x00, 0x00, 0x00
    db 0x37, 0x37, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

;InsideWallCorner sprite
InsideWallCornerRight_Sprite:
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

InsideWallCornerLeft_Sprite:
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

InsideWallCornerUp_Sprite:
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x37, 0x37, 0x37, 0x37, 0x00, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00

InsideWallCornerDown_Sprite:
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x00, 0x37, 0x37, 0x37, 0x37, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

;Ghost Base Corner sprite

GhostBaseCornerUpRight_sprite:
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x37
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00

GhostBaseCornerUpLeft_sprite:
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x37, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00

GhostBaseCornerDownRight_sprite:
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x37
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

GhostBaseCornerDownLeft_sprite:
    db 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x37, 0x37, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x37, 0x00
    db 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x37, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    
;Gate sprite

Gate_sprite:
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x3B, 0x3B, 0x3B, 0x3B, 0x3B, 0x3B, 0x3B, 0x3B
    db 0x3B, 0x3B, 0x3B, 0x3B, 0x3B, 0x3B, 0x3B, 0x3B
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    
;Dot sprite

Dot_sprite:
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x37, 0x37, 0x37, 0x37, 0x00, 0x00
    db 0x00, 0x00, 0x37, 0x37, 0x37, 0x37, 0x00, 0x00
    db 0x00, 0x00, 0x37, 0x37, 0x37, 0x37, 0x00, 0x00
    db 0x00, 0x00, 0x37, 0x37, 0x37, 0x37, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

;Empty space sprite

Empty_sprite:
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
    db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

; ---------------------------------------------------------------------------
; ---------------------------------------------------------------------------

; ASCII representation of the maze
ASCII_Maze: 
    db 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 
    db 1, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 1 
    db 1, 3, 1, 2, 1, 2, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 2, 1, 2, 1, 3, 1 
    db 1, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 1 
    db 1, 2, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 2, 1 
    db 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1 
    db 1, 1, 1, 1, 1, 2, 1, 1, 1, 2, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 2, 1, 1, 1, 2, 1, 1, 1, 1, 1 
    db 0, 0, 0, 0, 1, 2, 1, 1, 1, 2, 1, 0, 0, 0, 0, 5, 0, 0, 0, 0, 1, 2, 1, 1, 1, 2, 1, 0, 0, 0, 0 
    db 1, 1, 1, 1, 1, 2, 1, 1, 1, 2, 1, 0, 1, 1, 4, 4, 4, 1, 1, 0, 1, 2, 1, 1, 1, 2, 1, 1, 1, 1, 1 
    db 0, 0, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 1, 6, 0, 7, 0, 8, 1, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0, 0, 0 
    db 1, 1, 1, 1, 1, 2, 1, 1, 1, 2, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 2, 1, 1, 1, 2, 1, 1, 1, 1, 1 
    db 0, 0, 0, 0, 1, 2, 1, 1, 1, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 1, 1, 1, 2, 1, 0, 0, 0, 0 
    db 1, 1, 1, 1, 1, 2, 1, 1, 1, 2, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 2, 1, 1, 1, 2, 1, 1, 1, 1, 1 
    db 1, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 1 
    db 1, 2, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 2, 1 
    db 1, 2, 1, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 9, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 1, 2, 1 
    db 1, 2, 1, 2, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 2, 1, 2, 1 
    db 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1 
    db 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1    

    Column dw 31
    Row dw 19
    PixelPerTileRow dw 2560



section .text 
    
    drawWalls:
        mov dx, 8
        .eachLine:  
            mov cx, 8
            rep movsb
            add di, 320-8
            dec dx
            jnz .eachLine
            call nextColumn
        inc bx
        ret

    nextColumn:
        mov ax, [Column]
        dec ax
        mov [Column], ax
        cmp ax, 0
        je nextRow
        sub di, 2552
        ret

    nextRow:
        mov ax, [Row]
        dec ax
        mov [Row], ax
        cmp ax, 0
        je gameloop
        mov ax, 31
        mov [Column], ax
        mov ax, [PixelPerTileRow] 
        mov di, ax
        add ax, 2560
        mov [PixelPerTileRow], ax  
        ret

    Maze:
        mov di, 0
        mov bx, ASCII_Maze
        wallchoice:
            mov al, [bx]
            cmp al,  0         
            je drawEmpty        
            cmp al, 1
            je drawWall
            cmp al, 2
            je DrawDot
            cmp al, 3
            je DrawPowerPellet
            cmp al, 4
            je DrawGates
            cmp al, 5
            je DrawBlinky 
            cmp al, 6
            je DrawPinky
            cmp al, 7
            je DrawInky
            cmp al, 8
            je DrawClyde   

         
          ; ===================================

          drawEmpty:
               mov si, Empty_sprite
               call drawWalls
               jmp wallchoice
          drawWall:
               mov si, Walls
               call drawWalls
               jmp wallchoice   
          DrawDot:
               mov si, Dots
               call drawWalls
               jmp wallchoice
          DrawGates:
                mov si, Gates
                call drawWalls
                jmp wallchoice
          DrawPowerPellet:
                mov si, PowerPellet
                call drawWalls
                jmp wallchoice
          DrawBlinky: 
                mov si, [currentBlinkySprite]
                call drawWalls
                jmp wallchoice
          DrawInky: 
                mov si , [currentInkySprite]
                call drawWalls
                jmp wallchoice
          DrawClyde:
                mov si, [currentClydeSprite]
                call drawWalls
                jmp wallchoice
          DrawPinky:
                mov si, [currentPinkySprite]
                call drawWalls
                jmp wallchoice
                

    